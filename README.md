# â­ NGWP_TermProject: 3ì¸ í˜‘ë ¥ ë§ˆë¦¬ì˜¤ (ë„¤íŠ¸ì›Œí¬ ê²Œì„)

## ğŸ® 1. í”„ë¡œì íŠ¸ ê°œìš”

[cite_start]ë³¸ í”„ë¡œì íŠ¸ëŠ” **í•œêµ­ê³µí•™ëŒ€í•™êµ ë„¤íŠ¸ì›Œí¬ ê²Œì„ í”„ë¡œê·¸ë˜ë°** í…€ í”„ë¡œì íŠ¸ë¡œ, ê³ ì „ 2D ì‚¬ì´ë“œ ìŠ¤í¬ë¡¤ í”Œë«í¼ ì•¡ì…˜ ê²Œì„ì¸ **'SUPER MARIO BROS'ì˜ ëª¨ì‘**ì„ 3ì¸ ë©€í‹°í”Œë ˆì´ í™˜ê²½ìœ¼ë¡œ êµ¬í˜„í•©ë‹ˆë‹¤[cite: 11, 1]. [cite_start]ëª©í‘œëŠ” ì í”„, ì´ë™, ëª¬ìŠ¤í„° ê³µê²© ë“±ì„ í†µí•´ ìŠ¤í…Œì´ì§€ë¥¼ í´ë¦¬ì–´í•˜ê³  ìµœì¢… êµ¬ê°„ê¹Œì§€ ë„ë‹¬í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤[cite: 11].

| êµ¬ë¶„ | ë‚´ìš© | ì¶œì²˜ |
| :--- | :--- | :--- |
| **ê°œë°œ ë„êµ¬** | [cite_start]Visual Studio 2022 [cite: 175] [cite_start]| [cite: 175] |
| **API** | [cite_start]Windows API (WinAPI) [cite: 175] [cite_start]| [cite: 175] |
| **í†µì‹  í”„ë¡œí† ì½œ** | [cite_start]TCP/IP [cite: 175] [cite_start]| [cite: 175] |
| **ë²„ì „ ê´€ë¦¬** | [cite_start]Git, GitHub [cite: 175] [cite_start]| [cite: 175] |

---

## ğŸ‘¥ 2. ë©€í‹°í”Œë ˆì´ì–´ í™˜ê²½ ë° ê¸°ëŠ¥

[cite_start]ìµœëŒ€ 3ì¸ê¹Œì§€ ì°¸ì—¬ ê°€ëŠ¥í•œ í˜‘ë ¥ ê²Œì„ìœ¼ë¡œ ì„¤ê³„ë˜ì—ˆìœ¼ë©°, ìƒíƒœ ë™ê¸°í™” ë° ìƒí˜¸ì‘ìš© ê¸°ëŠ¥ì„ í¬í•¨í•©ë‹ˆë‹¤[cite: 92].

* [cite_start]**3ì¸ ìºë¦­í„°**: 1P (ë§ˆë¦¬ì˜¤), 2P (ë£¨ì´ì§€), 3P (ì™€ë¦¬ì˜¤)[cite: 30, 31, 32].
* [cite_start]**ë…ë¦½ ì¹´ë©”ë¼**: ê°ê°ì˜ í”Œë ˆì´ì–´ê°€ ê°œë³„ ì¹´ë©”ë¼ ì¢Œí‘œë¥¼ ê°€ì§€ê³  ìˆì–´, ê°ê°ì˜ í™”ë©´ì´ ë‹¤ë¥´ê²Œ ë³´ì…ë‹ˆë‹¤[cite: 93].
* [cite_start]**ê²Œì„ í´ë¦¬ì–´ ì¡°ê±´**: ê²Œì„ì— ì°¸ì—¬í•˜ê³  ìˆëŠ” **í”Œë ˆì´ì–´ ëª¨ë‘**ê°€ ê¹ƒë°œì— ì¶©ëŒí•´ì•¼ ê²Œì„ì´ í´ë¦¬ì–´ë©ë‹ˆë‹¤[cite: 94].
* [cite_start]**ëª©ìˆ¨ ê³µìš©**ìœ¼ë¡œ ë³€ê²½ë©ë‹ˆë‹¤[cite: 95].
* [cite_start]**í”Œë ˆì´ì–´ ê°„ ìƒí˜¸ì‘ìš©**: ì„œë¡œì˜ ë¨¸ë¦¬ë¥¼ ë°Ÿì•„ ë” ë†’ê²Œ ë›°ì–´ì˜¤ë¥¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤[cite: 96].

---

## âš™ï¸ 3. ì„œë²„ High-Level ë””ìì¸ (ìŠ¤ë ˆë“œ ëª¨ë¸)

[cite_start]ì„œë²„ëŠ” **ë©”ì¸ ë£¨í”„ + ë‹¤ì¤‘ I/O ìŠ¤ë ˆë“œ** ëª¨ë¸ì„ ì±„íƒí•˜ì—¬, ë¡œì§ ì²˜ë¦¬ì˜ ì¼ê´€ì„±ì„ **Main Thread**ì— ì§‘ì¤‘ì‹œí‚¤ê³  ë„¤íŠ¸ì›Œí¬ I/Oë¥¼ ë¶„ë¦¬ ì²˜ë¦¬í•©ë‹ˆë‹¤[cite: 150, 155, 157].

### A. 3ê°€ì§€ ìŠ¤ë ˆë“œ ì—­í•  ì •ì˜

| ìŠ¤ë ˆë“œ ìœ í˜• | í•¨ìˆ˜ | ì—­í•  ë° ê¸°ëŠ¥ | ì¶œì²˜ |
| :--- | :--- | :--- | :--- |
| **Main Thread** | `ThreadManager::GameLoop()` | **ì„œë²„ì˜ ì‹¬ì¥**. ëª¨ë“  ë¡œì§ ì²˜ë¦¬ì™€ ìƒíƒœ ì¼ê´€ì„±ì„ ì±…ì„ì§€ë©°, íŒ¨í‚· ì²˜ë¦¬, ë¡œì§ ê³„ì‚°, ìƒíƒœ ì „íŒŒë¥¼ ì‹¤í–‰í•©ë‹ˆë‹¤. [cite_start]| [cite: 164, 165, 166] |
| **Accept Thread** | `ThreadManager::AcceptLoop()` | ìƒˆë¡œìš´ í´ë¼ì´ì–¸íŠ¸ì˜ **ì ‘ì† ìš”ì²­ë§Œì„ ì „ë‹´**í•˜ì—¬ ë…¼ë¸”ë¡œí‚¹ìœ¼ë¡œ ì²˜ë¦¬í•˜ê³ , ì„±ê³µ ì‹œ `Client Thread`ë¥¼ ìƒì„±í•©ë‹ˆë‹¤. [cite_start]| [cite: 167, 168, 169] |
| **Client Thread** | `ThreadManager::ClientLoop()` | í• ë‹¹ëœ ë‹¨ì¼ í´ë¼ì´ì–¸íŠ¸ì™€ì˜ **ë„¤íŠ¸ì›Œí¬ I/O**ë¥¼ ì „ë‹´í•©ë‹ˆë‹¤. íŒ¨í‚·ì„ ìˆ˜ì‹ í•˜ê³  íŒŒì‹±í•˜ì—¬ **íŒ¨í‚· í**(`m_packetQueue`)ì— ì‚½ì…í•©ë‹ˆë‹¤. [cite_start]| [cite: 170] |

### B. ìŠ¤ë ˆë“œ ë™ê¸°í™” ë°©ë²•

* **ë™ê¸°í™” ìì›**:
    * [cite_start]`packetQueue`: `ClientLoop()`ì˜ **ì“°ê¸°**ì™€ `GameLoop()`ì˜ **ì½ê¸°**ê°€ ë™ì‹œì— ì ‘ê·¼í•˜ëŠ” ê°€ì¥ ì¤‘ìš”í•œ ê³µìœ  ìì›ì…ë‹ˆë‹¤[cite: 171].
    * [cite_start]`currentmap, monsters, items`: ëª¨ë“  í”Œë ˆì´ì–´ê°€ ê³µìœ í•˜ëŠ” ìì›ìœ¼ë¡œ ë™ì‹œì— ì ‘ê·¼í•©ë‹ˆë‹¤[cite: 171].
* [cite_start]**ë™ê¸°í™” ë©”ì»¤ë‹ˆì¦˜**: `std::mutex m_mtx`ë¥¼ ì‚¬ìš©í•˜ì—¬ ëª¨ë“  ê³µìœ  ìì› ì ‘ê·¼ ì‹œ **ìƒí˜¸ ë°°ì œ(Lock)**ë¥¼ ë³´ì¥í•©ë‹ˆë‹¤[cite: 171].

---

## ğŸ”¨ 4. ì£¼ìš” í´ë˜ìŠ¤ë³„ ê¸°ëŠ¥ (Low-Level)

| í´ë˜ìŠ¤ | ì£¼ìš” í•¨ìˆ˜ | ì„œë²„ ì—­í•  | í´ë¼ì´ì–¸íŠ¸ ì—­í•  |
| :--- | :--- | :--- | :--- |
| **ThreadManager** | `GameLoop()`, `BroadcastState()` | [cite_start]ë©”ì¸ ë£¨í”„ ì²˜ë¦¬, ìƒíƒœ ë™ì‹œ ì „ì†¡ [cite: 161, 162] | - |
| **NetworkManager** | `InitServer()`, `AcceptClient()` | [cite_start]WinSock ì´ˆê¸°í™”, ë¦¬ìŠ¤ë‹ ì†Œì¼“ ê´€ë¦¬, ì—°ê²° ìˆ˜ë½ ì „ë‹´ [cite: 161] | [cite_start]`InitClient()`, `RecvPacket()`, `SendPacket()` [cite: 159, 132, 129] |
| **PacketManager** | `ParsePacket()`, `HandlePacket()` | [cite_start]ìˆ˜ì‹  ë°”ì´íŠ¸ë¥¼ ê°ì²´ë¡œ ë³€í™˜í•˜ê³  ë¡œì§ì— ë°˜ì˜ [cite: 161] | [cite_start]ìˆ˜ì‹  ë°”ì´íŠ¸ë¥¼ ê°ì²´ë¡œ ë³€í™˜í•˜ê³  ë¡œì§ì— ë°˜ì˜ [cite: 159] |
| **GameWorld** | `Update()`, `CheckCollision()` | [cite_start]ê²Œì„ ë§µ/ì˜¤ë¸Œì íŠ¸ ì—…ë°ì´íŠ¸ ë° ì¶©ëŒ ê²€ì‚¬ [cite: 161] | [cite_start]`GameInput()`, `DrawWorld()` [cite: 159] |

---

## ğŸ§‘â€ğŸ’» 5. íŒ€ì› ë³„ ì—­í• ë¶„ë‹´

| íŒ€ì› | ì£¼ìš” ì—­í•  | ì„¸ë¶€ ë‹´ë‹¹ ë‚´ìš© | ì¶œì²˜ |
| :--- | :--- | :--- | :--- |
| **ì´ìš©ì¬** | í´ë¼ì´ì–¸íŠ¸ ë¦¬í™í† ë§ ë° NETWORKMANAGER ê´€ë¦¬ | í´ë¼ì´ì–¸íŠ¸ ë„¤íŠ¸ì›Œí¬(`InitClient()`, `SendPacket()`, `RecvPacket()`), `CheckCollision` ì—°ë™ ì‘ì—…. [cite_start]| [cite: 176, 177] |
| **ì´í˜„ì„** | ì„œë²„-í´ë¼ì´ì–¸íŠ¸ PacketManager í‘œì¤€ ê´€ë¦¬ | íŒ¨í‚· íŒŒì‹±/ì§ë ¬í™”(`ParsePacket`, `SerializePacket`), `HandlePacket` êµ¬í˜„ ë° íŒ¨í‚· í¬ë§· ì •ì˜. [cite_start]| [cite: 180, 181] |
| **í™©íƒœê·œ** | ì„œë²„ Manager, NetworkManager ë° Object ê´€ë¦¬ | ì„œë²„ ìŠ¤ë ˆë“œ í•¨ìˆ˜(`GameLoop()`, `AcceptLoop()`, `ClientLoop()`) ì‘ì„±, `BroadcastState()`, ìƒíƒœ ê´€ë¦¬. [cite_start]| [cite: 183, 184] |
